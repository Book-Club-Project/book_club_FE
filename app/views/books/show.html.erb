<head>
  <style>
    .cover-img {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 90%;
      height: auto;
      border-radius: 10px;
    }

    .centered {
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="row">
      <!-- book cover, title, and create club link -->
      <div class="col">
        <div class="container centered">

          <div class="row">
            <img class="cover-img" src= <%= @book.image %>>
          </div><br><br>

          <div class="row">
            <% if session[:user_id] %>
              <div  class="button" id="create-club-button">
                <button type="button" class="btn btn-secondary btn-lg"><%= button_to "Create Book Club", "/clubs/new", params: {book_id: @book.id} , method: :get %></button>

              </div>
            <% else %>
              <div class="container" id="need-login-message">
                <p>To start a club with this book, please <%= link_to 'Login', '/login' %>.</p>
              </div>
            <% end %>
          </div><br>
        </div>
      </div>


      <!-- book information -->
      <div class="col">
        <div class="container">
          <div class="row">
            <h3>Title: <%= @book.title %> </h3>
          </div><br>

          <div class="row">
            <h3>Author(s):</h3>
          </div>

          <div class="row">
            <p><% @book.author.each do |author| %>
              <%= author %>
              <% end %>, </p>
          </div><br>

          <div class="row">
            <% if @book.summary == nil %>
             <h3> Summary: </h3> <p>n/a</p>
            <% else %>
            <h3>Summary: </h3>

            <span> <%= sanitize @book.summary %></span>
            <% end %>
          </div><br>

          <div class="row">
            <% if @book.rating == nil%>
             <h3>Rating: </h3> <p>n/a</p>
            <% else %>
            <h3>Book rating: </h3> <p><%= @book.rating %></p>
            <% end %>
          </div><br>

          <div class="row">
            <% if @book.genre == nil%>
                <h3> Genre(s): </h3> <p>n/a</p>
            <% else %>
            <h3>Genre(s): </h3><p><% @book.genre.each do |genre| %>
              <%= genre %>
              <% end %>
            <% end %> </p>
          </div><br>
        </div>
      </div>
    </div>
  </div>
</body>
